# -*- coding: utf-8 -*-
"""ai-app.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1hZyL0Fvz4hQHhZHDRrwwXstleR55IlIN
"""

# Commented out IPython magic to ensure Python compatibility.
# %%capture
# ## Libraries Required
# !pip install langchain-huggingface
# ## For API Calls
# !pip install huggingface_hub
# !pip install transformers
# !pip install accelerate
# !pip install  bitsandbytes
# !pip install langchain

## Environment secret keys
from google.colab import userdata
sec_key=userdata.get("HF_TOKEN")
print(sec_key)

# def text2image(url):
#     img_to_text = pipeline("image-to-text", model="Salesforce/blip-image-captioning-large")
#     text = img_to_text(url)[0]['generated_text']

#     return text
# text2image('https://plus.unsplash.com/premium_photo-1683140621573-233422bfc7f1?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8YmxhY2slMjB3b21hbiUyMHNtaWxpbmd8ZW58MHx8MHx8fDA%3D')

from langchain_huggingface import HuggingFaceEndpoint

import os
os.environ["HUGGINGFACEHUB_API_TOKEN"]=sec_key


repo_id="mistralai/Mistral-7B-Instruct-v0.2"
llm=HuggingFaceEndpoint(repo_id=repo_id,max_length=128,temperature=0.7,token=sec_key)

llm.invoke("What is machine learning")